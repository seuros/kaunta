{{define "body"}}
<div class="hero">
  <div style="display: flex; justify-content: center; margin-bottom: 24px">
    <img src="/assets/kaunta.svg" alt="Kaunta Analytics" style="height: 88px; width: auto" />
  </div>
  <h1>Kaunta</h1>
  <p class="subtitle">Analytics without bloat</p>
</div>

<!-- Datastar-powered login form -->
<div class="login-card glass card card-lg"
     data-signals="{ username: '', password: '', error: '', loading: false }">
  <h2>Login to Dashboard</h2>

  <!-- Error display -->
  <div class="error" data-class:show="$error" data-text="$error"></div>

  <!-- Login form with Datastar bindings -->
  <form data-on:submit__prevent="$loading = true; $error = ''; @get('/api/auth/login-ds')">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        data-bind:username
        required
        autocomplete="username"
        data-attr:disabled="$loading"
      />
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        data-bind:password
        required
        autocomplete="current-password"
        data-attr:disabled="$loading"
      />
    </div>
    <button type="submit" class="btn btn-primary" data-attr:disabled="$loading">
      <span data-show="!$loading">ğŸ”</span>
      <span data-show="$loading">â³</span>
      <span data-text="$loading ? 'Logging in...' : 'Login'"></span>
    </button>
  </form>
</div>
{{end}}
